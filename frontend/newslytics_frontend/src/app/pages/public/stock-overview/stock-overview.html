<div class="stock-overview-container">
    <div class="header">
        <h1>Stock Search</h1>
        <p class="subtitle">Search for stocks or browse trending options</p>
    </div>

    <div class="search-section">
        <app-stock-searchbar (stockSelected)="onStockSelected($event)"></app-stock-searchbar>
    </div>

    @if (selectedStock) {
        <div class="selected-stock-card">
            <div class="card-header">
                <h2>Selected Stock</h2>
                <button class="close-btn" (click)="selectedStock = null">Ã—</button>
            </div>
            <div class="stock-details">
                <div class="detail-row">
                    <span class="label">Symbol:</span>
                    <span class="value symbol">{{ selectedStock.ticker || selectedStock.symbol }}</span>
                </div>
                @if (isStockQuote(selectedStock) && selectedStock.shortName) {
                    <div class="detail-row">
                        <span class="label">Name:</span>
                        <span class="value">{{ selectedStock.shortName }}</span>
                    </div>
                }
                @if (isTrendingStock(selectedStock) && selectedStock.shortname) {
                    <div class="detail-row">
                        <span class="label">Name:</span>
                        <span class="value">{{ selectedStock.shortname }}</span>
                    </div>
                }
                @if (isStockQuote(selectedStock) && selectedStock.longName) {
                    <div class="detail-row">
                        <span class="label">Full Name:</span>
                        <span class="value">{{ selectedStock.longName }}</span>
                    </div>
                }
                @if (isTrendingStock(selectedStock) && selectedStock.longname) {
                    <div class="detail-row">
                        <span class="label">Full Name:</span>
                        <span class="value">{{ selectedStock.longname }}</span>
                    </div>
                }
                @if (selectedStock.isin) {
                    <div class="detail-row">
                        <span class="label">ISIN:</span>
                        <span class="value">{{ selectedStock.isin }}</span>
                    </div>
                }
                @if (selectedStock.exchange) {
                    <div class="detail-row">
                        <span class="label">Exchange:</span>
                        <span class="value">{{ selectedStock.exchange }}</span>
                    </div>
                }
                @if (selectedStock.regularMarketPrice) {
                    <div class="detail-row">
                        <span class="label">Price:</span>
                        <span class="value price">{{ selectedStock.regularMarketPrice | currency: selectedStock.currency || 'USD' }}</span>
                    </div>
                }
                @if (selectedStock.sector) {
                    <div class="detail-row">
                        <span class="label">Sector:</span>
                        <span class="value">{{ selectedStock.sector }}</span>
                    </div>
                }
                @if (selectedStock.industry) {
                    <div class="detail-row">
                        <span class="label">Industry:</span>
                        <span class="value">{{ selectedStock.industry }}</span>
                    </div>
                }
            </div>
        </div>
    }
</div>
