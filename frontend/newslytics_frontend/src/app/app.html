<header class="header">
  <div class="header-wrapper">
    <div class="header-container">
      <h1 class="header-title">Newslytics</h1>
      <p class="header-subtitle">AI-Powered Portfolio & Stock Analysis</p>
    </div>

    <div class="header-actions">
      <ng-container *ngIf="!isLoggedIn; else loggedInBlock">
        <button type="submit" class="btn-ghost" (click)="openLogin()">Login</button>
        <button type="submit" class="btn-primary" (click)="openRegister()">Register</button>
      </ng-container>
      <ng-template #loggedInBlock>
        <span class="user-label">
          {{ (authService.currentUser?.firstname + ' ' + authService.currentUser?.lastname).trim() || authService.currentUser?.username }}
        </span>
        <button type="button" class="btn-ghost" (click)="logout()">Logout</button>
      </ng-template>
    </div>
  </div>
</header>

<app-login-modal (close)="closeLogin()" *ngIf="showLoginModal"></app-login-modal>
<app-register-modal (close)="closeRegister()" *ngIf="showRegisterModal"></app-register-modal>

<nav class="navbar">
  <div class="nav-container">
    <div class="nav-brand">
      <a routerLink="/home" class="brand-link">Newslytics</a>
    </div>
    <ul class="nav-links">
      <li>
        <a routerLink="/home" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
          Home
        </a>
      </li>
      <li>
        <a routerLink="/dashboard" routerLinkActive="active">
          Dashboard
        </a>
      </li>
      <li>
        <a routerLink="/portfolios" routerLinkActive="active">
          Portfolios
        </a>
      </li>
      <li>
        <a routerLink="/stocks" routerLinkActive="active">
          Stocks
        </a>
      </li>
    </ul>
  </div>
</nav>

<main class="main-content">
  <router-outlet />
</main>

<footer class="footer">
  <div class="footer-container">
    <div class="footer-section">
      <h3>Newslytics</h3>
      <p>Your intelligent companion for portfolio management and stock analysis.</p>
    </div>
    <div class="footer-section">
      <h4>Quick Links</h4>
      <ul class="footer-links">
        <li><a routerLink="/home">Home</a></li>
        <li><a routerLink="/dashboard">Dashboard</a></li>
        <li><a routerLink="/portfolios">Portfolios</a></li>
        <li><a routerLink="/stocks">Stocks</a></li>
      </ul>
    </div>
    <div class="footer-section">
      <h4>Contact</h4>
      <p>Â© 2025 Newslytics. All rights reserved.</p>
    </div>
  </div>
</footer>